<!DOCTYPE html>
<html lang="eng">
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="style.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
        
    </head>
    <body>
        <div></div>
       <div>     </div>
  
    
        <header>
           
            <div class="wrapper">
                <form action="userdashboard.html" method="post">
                    <h1>Login</h1>
                    <div class="input-box">
                        <input type="email" placeholder="Email" required id="email">
                        <box-icon name='user'></box-icon>
                    </div><br>
                    <div class="input-box">
                        <input type="password" placeholder="password" required id="password">
                        <box-icon name='lock-alt' type='solid' ></box-icon>
                    </div><br>
                    
                    <a href="forgotpswrd.html">Forgot password</a>
               <br>
             
                <button type="submit" class="btn" onclick="postData()">Login</a> </button>
             
            </div>
                <div class="register-link">
                    <p>Don't have an account? <a href="regio.html">Register</a></p><p> <button type="button" class="btn btn-dark"><a href="inde.html">BACK</a></button></p>
                </div>


                </form>


                <script>
  
  async function postData() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const data = {
    email: email,
    password: password,
  };

  try {
    const apiUrl = 'http://localhost:8280/user/signin'; // Replace with your actual API URL
    const response = await fetch(apiUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });

    if (!response.ok) {
      // Handle other response statuses
      console.error('Error during request. Status:', response.status);
      const responseBody = await response.text();
      console.error('Response body:', responseBody);
    } else {
      // Redirect on success
      window.location.href ='userdashboard.html'; // Adjust the redirection path
    }
  } catch (error) {
    console.error('Error during request:', error);
  }
}
                
                     
                </script>

            </div>
        </header>
    </body>
</html>