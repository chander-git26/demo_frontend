<!DOCTYPE html>
<html lang="eng">
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="style.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
        
    </head>
    <body>
        <div></div>
       <div>     </div>
  
    
        <header>
           
            <div class="wrapper">
                <form>
                    <h1>Login</h1>
                    <div class="input-box">
                        <input type="email" placeholder="Email" required id="email">
                        <box-icon name='user'></box-icon>
                    </div><br>
                    <div class="input-box">
                        <input type="password" placeholder="password" required id="password">
                        <box-icon name='lock-alt' type='solid' ></box-icon>
                    </div><br>
                    
                    <a href="forgotpswrd.html">Forgot password</a>
               <br>
                <button onclick="myFunction()"  >
                <button type="submit" class="btn" onclick="postData()" >Login</a> </button>

              </button>
            </div>
                <div class="register-link">
                    <p>Don't have an account? <a href="regio.html">Register</a></p><p> <button type="button" class="btn btn-dark"><a href="inde.html">BACK</a></button></p>
                </div>


                </form>


                <script>
  
                    async function postData() {
                    
                  
                    const data = {
                      
                      email: document.getElementById("email").value,
                      password: document.getElementById("password").value,
                     
                    };
                  
                    try {
                      const apiUrl = 'http://localhost:8280/user/signin';
                      const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                          'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                      });
                  
                      if (!response.ok ) {
                        throw new Error('Network response was not ok');
                      }
                      const responseData = await response.json();
                      console.log(responseData); // You can handle the response data here
                  
                    } catch (error) {
                      console.error('Error posting data:', error);
                    }
                  }
                  
                
                function myFunction() {
             window.location.href='userdashboard.html'
                      }
                
                     
                </script>

            </div>
        </header>
    </body>
</html>